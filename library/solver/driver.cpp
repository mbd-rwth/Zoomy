// TODO This needs to be auto generated by the make file!
#include "../../outputs/output_c/c_interface/Model/boundary_conditions_code.h"
#include "../../outputs/output_c/c_interface/Model/model_code.h"
// #include "../../dependencies/hdf5/c++/src/H5Cpp.h"
#include "pnetcdf.h"
#include "hdf5.h"
#include "settings.h"
#include "mesh.h"


#include <iostream>
#include <string>
#include <mpi.h>

// [x] settings struct
// [x] load settings
// [ ] load mesh
// [ ] load initial conditions
// [ ] load pde
// [ ] load bc
// [ ] bc-mesh struct
// [ ] load bc_mesh_mappings


int main(int argc, char** argv) {


  	// openHDF5File("../outputs/output_c/mesh.hdf5");
	// openPnetCDFFile("../outputs/output_c/mesh.nc");
	Settings settings = Settings("../outputs/output/settings.hdf5");
	Mesh mesh = Mesh("../outputs/output/mesh.hdf5");

  	std::cout << "MAIN" << std::endl;

    // MPI_Init(&argc, &argv);
    // int rank;
    // MPI_Comm_rank(MPI_COMM_WORLD, &rank);

  	// std::cout << "MAIN Parallel" << std::endl;

	// MPI_Finalize();

	// Read command line arguments 
	//  if (argc != 4){
	//   std::cerr << RERROR "The program is run as: ./nprogram inputFolder/ outputFolder/ Nthreads" << std::endl;
	// 	  return 0;
	// }

	// {
	// SERGHEI serghei;
	
	// serghei.inFolder = argv[1];
	// serghei.outFolder = argv[2];

	// serghei.par.nthreads = atoi(argv[3]);
	
	// if(!serghei.start(argc, argv)) return 0;
	// if(!serghei.compute()) return 0;
	// if(!serghei.finalise()) return 0;
  
	// } // scope guard required to ensure serghei destructor is called

	// Kokkos::finalize();
 //  MPI_Finalize();

	return 1;
}
